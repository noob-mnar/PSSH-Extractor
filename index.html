<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KID and PSSH Extractor</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.1.3/css/bootstrap.min.css">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
</head>
<body>
    <header>
        <div class="top-bar">
            <h1>KID and PSSH Extractor</h1>
        </div>
        <nav>
            <a href="#home">Home</a>
            <a href="#about">About</a>
        </nav>
    </header>
    <main id="home" class="container">
        <section id="extractor">
            <input type="text" id="mpd-url" placeholder="Enter MPD URL">
            <button onclick="extractData()">Submit</button>
        </section>
        <section id="results" class="results">
            <h2>Results</h2>
            <div class="result-box">
                <p><strong>KIDs:</strong></p>
                <textarea id="kid-output" readonly></textarea>
                <button onclick="copyToClipboard('kid-output')">Copy KID</button>
            </div>
            <div class="result-box">
                <p><strong>PSSHs:</strong></p>
                <textarea id="pssh-output" readonly></textarea>
                <button onclick="copyToClipboard('pssh-output')">Copy PSSH</button>
            </div>
            <p><strong>Credit:</strong> <span id="credit-output"></span></p>
        </section>
    </main>
    <footer id="about">
        <section>
            <h2>About This Site</h2>
            <p>
                This site extracts KID (Key ID) and PSSH (Protection System Specific Header) values from an MPD (Media Presentation Description) file.
            </p>
            <p>
                <strong>KID</strong> is a unique identifier used in DRM (Digital Rights Management) systems to identify the content key.
            </p>
            <p>
                <strong>PSSH</strong> is a container for the initialization data used by DRM systems to decrypt the media content.
            </p>
            <p>
                To use this site, simply enter the URL of an MPD file, and click "Submit". The extracted KID and PSSH values will be displayed in the results section above.
            </p>
        </section>
    </footer>
    <script src="script.js"></script>
    <script>
    $(document).ready(function() {
        const swalWithBootstrapButtons = Swal.mixin({
            customClass: {
                confirmButton: 'btn btn-success',
                cancelButton: 'btn btn-danger'
            },
            buttonsStyling: false
        })

        swalWithBootstrapButtons.fire({
            title: "noob_mnar",
            text: "Telegram Bot!",
            icon: 'warning',
            showCancelButton: true,
            confirmButtonText: 'Click To Join',
            cancelButtonText: 'Already Joined',
            reverseButtons: false
        }).then((result) => {
            if (result.isConfirmed) {
                Swal.fire({
                    title: 'Redirecting.',
                    text: 'You are now being redirected to our channel, make sure to join it!',
                    timer: 1500,
                    timerProgressBar: true,
                    icon: 'success'
                })
                setTimeout(RedirectUrl, 1500);
            } else if (result.dismiss === Swal.DismissReason.cancel) {
                Swal.fire({
                    title: 'Great!',
                    text: '',
                    timer: 1000,
                    timerProgressBar: true,
                    icon: 'success'
                })
            }
        })

        function RedirectUrl() {
            window.location.href = "https://t.me/BotFather";
        }
    });
    </script>
</body>
</html>
